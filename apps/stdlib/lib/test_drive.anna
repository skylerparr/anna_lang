defmodule(TestDrive, {
  @def test([String], {
    me = Kernel.self();
    pid = Kernel.spawn(@fn {
      [{}] => {
        @native IO.inspect('me');
        @native IO.inspect(me);
        @native IO.inspect('self()');
        @native IO.inspect(Kernel.self());
        Kernel.send(me, @_'success');
      };
    });
    @native IO.inspect(pid);
    result = Kernel.receive(@fn {
      [{Atom: status}] => {
        status;
      };
    });
    @native IO.inspect(result);
  });
});